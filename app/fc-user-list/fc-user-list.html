<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../ui-full-dialog/ui-full-dialog.html">

<dom-module id="fc-user-list">
  <link rel="import" type="css" href="fc-user-list.css">
  <template>
    <ui-full-dialog id="addClientDialog" with-backdrop="true">
      <paper-toolbar class="dialog-toolbar" header>Add Client</paper-toolbar>
      <paper-item class="padding-top">
        <paper-item-body two-line>
          <div class="padding-bottom">Name</div>
          <input secondary value="{{nameInput::input}}">
        </paper-item-body>
      </paper-item>
      <paper-item>
        <paper-item-body two-line>
          <div class="padding-bottom">Email (Optional)</div>
          <input secondary value="{{emailInput::input}}">
        </paper-item-body>
      </paper-item>
      <paper-button affirmative class="primary-button" on-tap="handleAddClient">OK</paper-button>
      <paper-button dismissive on-tap="handleCancelTap">Cancel</paper-button>
    </ui-full-dialog>

    <div class="search-bar horizontal layout center">
      <iron-icon class="padding-left"icon="search"></iron-icon>
      <input value="{{clientSearchText}}"
             placeholder="Search"
             onfocus="this.placeholder = ''"
             onblur="this.placeholder = 'Search'">
    </div>
    <div style="z-index:-1" hidden$="[[computeListEmpty(userList)]]" class="fit vertical layout center center-justified">
      <div style="font-size: 18px;color: grey;">Client List Empty</div>
    </div>
    <template is="x-repeat" items="[[userList]]">
      <paper-icon-item class="horizontal layout center" on-tap="handleItemTap" style$="[[parent.computeClientStyle(item.username, selectedUser)]]">
        <image class="profile-image" src="../../images/default_profile.png" item-icon>
        <div class="flex">[[item.username]]</div>
        <iron-icon icon="chevron-right"></iron-icon>
      </paper-icon-item>
    </template>
    <paper-fab class="temp-fab" icon="add" on-tap="handleFabTap"></paper-fab>
  </template>
</dom-module>

<script src="fc-user-list.js"></script>
