<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/wxy-scaffold/wxy-scaffold.html">
<link rel="import" href="../../bower_components/wxy-jsonapi/wxy-jsonapi.html">
<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/editor-icons.html">
<link rel="import" href="../../bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="../../app/fc-user-list/fc-user-list.html">
<link rel="import" href="../../app/fc-navigation/fc-navigation.html">
<link rel="import" href="../../app/fc-user-detail/fc-user-detail.html">


<dom-module id="home-page">
  <link rel="import" type="css" href="home-page.css">
  <template>
    <!--<wxy-jsonapi id="api" url="https://fitconnectapp.appspot.com/api/account/clients"></wxy-jsonapi>-->
    <iron-ajax auto url="https://fitconnectapp.appspot.com/api/account/clients"
        params='{"token":"86c78b2b404dfe9d343b8923c54d399ed80baa2334c2f8da85e4338b450a61a892e5abb37a9a90fe804122c2596acbbd805fc909347f340ecb27b3a6f840543c"}'
        handle-as="json" last-response="{{clientResponse}}"></iron-ajax>
    <wxy-scaffold id="host">
      <fc-navigation class="navigation" selected="clients" router="[[router]]"></fc-navigation>
      <div class="tool fit">
        <!--TODO: Make logo into a .png-->
        <div class="horizontal layout center">
          <div id="logo" class="horizontal layout center center-justified">
            Fit<span id="large">C</span>onnect
          </div>
          <div class="title padding-left"></div>
          <div class="flex"></div>
          <iron-icon class="tool-icon" icon="today"></iron-icon>
          <iron-icon class="tool-icon" icon="editor:format-list-bulleted"></iron-icon>
        </div>
      </div>
      <div class="right-tool">
        <div class="vertical layout">
          <span class="title">[[selectedUser.username]]</span>
        </div>
      </div>
      <fc-user-detail hidden$="[[computeUserDetailHidden(selectedUser)]]" controller="[[controller]]" user-id="[[selectedUser._id]]" class="right-drawer" router="[[router]]"></fc-user-detail>
      <paper-toolbar class="nav-toolbar">Clients</paper-toolbar>
      <fc-user-list id="user-list" controller="[[controller]]" selected-user="{{selectedUser}}" user-list="[[clientResponse.data]]"></fc-user-list>
      <fc-calendar controller="[[controller]]"></fc-calendar>
      <paper-fab icon="add" on-tap="handleAddTap"></paper-fab>
    </wxy-scaffold>
  </template>
</dom-module>

<script src="home-page.js"></script>
